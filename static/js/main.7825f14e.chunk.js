(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(30)},23:function(e,t,a){},24:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),l=a.n(o),c=(a(23),a(24),a(2)),s=function(){var e=14,t=10,a=["#E94F37","#1C89BF","#A1D363","#393E41"],n="#d5d9da",r=10,o=100,l=500,s={bubbles:[],score:0,previousScore:0,countFallen:0,countBonus10:0,countBonus100:0,isNew:!0,hasWon:!1,isOver:!1,hasLost:!1};function u(e){return"undefined"!=typeof e&&e}function i(e,t,a){var n=a.filter(function(a){return a.x===e&&a.y===t});return u(n)?n[0]:null}function m(e,t,a){var r=0;if(e.color===n&&t.color!==n){var o=a.indexOf(t);a[o]=Object(c.a)({},t),a[o].color=n;var l=a.indexOf(e);a[l]=Object(c.a)({},e),a[l].color=t.color,r=1}return r}return{emptyGameData:s,startNewGame:function(n){for(var r=[],o=1,l=0;l<t;l++)for(var u=0;u<e;u++){var i={id:o,x:l,y:u,color:a[Math.floor(Math.random()*a.length)]};r.push(i),o++}var m=Object(c.a)({},s);return m.bubbles=r,m.previousScore=n,m},gameHasStarted:function(e){var t=Object(c.a)({},e);return t.isNew=!1,t},updateBoard:function(a){if(a.bubble.color!==n){var s=a.game,b=s.bubbles,d=s.score,p=s.countBonus10,g=s.countBonus100;!function a(r,o,l){if(u(o)){var s=o.x,m=o.y;if(s>=0&&s<t&&m>=0&&m<e&&r===o.color){var b=l.indexOf(o);l[b]=Object(c.a)({},o),l[b].color=n,a(r,i(s-1,m,l),l),a(r,i(s+1,m,l),l),a(r,i(s,m-1,l),l),a(r,i(s,m+1,l),l)}}}(a.bubble.color,a.bubble,b);var f=function a(n,r){for(var o=0,l=0;l<t;l++)for(var c=0;c<e;c++)if(l+1<t){var s=i(l,c,n),b=i(l+1,c,n);u(s)&&u(b)&&(o+=m(b,s,n))}return r+=o,o>0&&a(n,r),r}(b,0),E=function(e,t,a,n){var l=e+t,c=a,s=n;return t>=10?(l+=o,s+=1):t>=5&&(l+=r,c+=1),{score:l,countBonus10:c,countBonus100:s}}(d,f,p,g),v=E.score,h=E.countBonus10,y=E.countBonus100,N=function(a){var r=!1;e:for(var o=0;o<t;o++)for(var l=0;l<e;l++){var c=i(o,l,a);if(null!==c&&c.color!==n){r=!0;break e}}return!r}(b),O=function(e){return e>=l}(v),w=N&&!O,j=Object(c.a)({},a.game);return j.bubbles=b,j.score=v,j.countFallen=f,j.countBonus10=h,j.countBonus100=y,j.hasWon=O,j.isOver=N,j.hasLost=w,j}},isNotDeletedColor:function(e){return e!==n}}}(),u=a(1),i=function(e){var t={padding:3,margin:3,display:"inline-block",backgroundColor:e.bubble.color,borderRadius:"50%",width:40,height:40},a=!Object(u.c)(function(e){return e.timer}).timeIsUp&&s.isNotDeletedColor(e.bubble.color);return a&&(t.cursor="pointer"),r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("div",{style:t,onClick:function(){return e.onDelete(e.bubble)}}),!a&&r.a.createElement("div",{style:t}))},m=function(e){return{type:"NEW_GAME",payload:e}},b=function(){var e=Object(u.c)(function(e){return e.game}),t=Object(u.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:520,width:645,paddingTop:5,backgroundColor:"#FFF",WebkitFilter:"drop-shadow(0px 0px 5px #666)",filter:"drop-shadow(0px 0px 5px #666)"}},e.bubbles.map(function(a){return r.a.createElement(i,{key:a.id,bubble:a,onDelete:function(){t({type:"UPDATE_GAME",payload:{bubble:a,game:e}})}})})),r.a.createElement("br",null),r.a.createElement("div",{className:"card",style:{width:645}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Rules of the game"),r.a.createElement("p",{className:"card-text"},"Click on a bubble to remove it. Adjoining bubbles of the same color will also be removed. Remaining bubbles will fall in the empty spaces created. If 5 or more bubbles fall, you get a bonus (+10). If 10 or more bubbles fall, you get a better bonus (+100). You win the game when your score reaches 500. Have fun!"))))},d=function(){var e=Object(u.c)(function(e){return e.game}),t=Object(u.c)(function(e){return e.timer}),a=Object(u.b)(),n=e.hasWon||e.hasLost||t.timeIsUp;return r.a.createElement("nav",{className:"navbar navbar-brand bg-light"},!n&&r.a.createElement("button",{type:"button",className:"btn btn-secondary m-2",disabled:!0},"New Game"),n&&r.a.createElement("button",{type:"button",className:"btn btn-secondary m-2",onClick:function(){a(m(e.score))}},"New Game"),r.a.createElement("button",{type:"button",className:"btn btn-info m-2",disabled:!0},"Previous Score ",r.a.createElement("span",{className:"badge badge-light"},e.previousScore)),r.a.createElement("button",{type:"button",className:"btn btn-info m-2",disabled:!0},"Current Score ",r.a.createElement("span",{className:"badge badge-light"},e.score)),r.a.createElement("span",{className:"badge badge-pill badge-light"},"React Samegame v1.1, developed by Vass Cisse \xa9 2019"))},p=a(16),g=function(){var e=90,t=e,a=null,n=!1,r=!1,o=!1,l=null;function c(e){null!=l&&l.update(e)}function s(){n||r?(l.dispatchStopTimer(),clearInterval(a)):0===t?function(){o||l.dispatchTimeIsUp();clearInterval(a)}():c(t-=1)}return{startCountDown:function(u){n=!1,o=!1,r=!1,l=u,c(t=e),a=setInterval(s,1e3)},updateSettings:function(e,t,a){n=e,o=t,r=a},getSettings:function(){return{hasLost:n,stopRequested:o,endGame:r}}}}(),f=function(){var e=Object(u.c)(function(e){return e.game}),t=Object(u.c)(function(e){return e.timer}),a=Object(u.b)(),o=Object(n.useState)(0),l=Object(p.a)(o,2),c=l[0],s=l[1],i=g.getSettings(),m=i.hasLost,b=i.stopRequested,d=i.endGame;if(m===e.hasLost&&b===t.stopRequested&&d===(e.hasWon&&e.isOver)||g.updateSettings(e.hasLost,t.stopRequested,e.hasWon&&e.isOver),e.isNew){var f={update:function(e){return s(e)},dispatchStopTimer:function(){return a({type:"STOP_TIMER",payload:t})},dispatchTimeIsUp:function(){return a({type:"TIME_IS_UP",payload:null})}};g.startCountDown(f),a({type:"START_TIMER",payload:null}),a({type:"GAME_STARTED",payload:e})}return r.a.createElement(r.a.Fragment,null,c<=10&&r.a.createElement("button",{type:"button",className:"btn btn-warning",disabled:!0},"\u23f3"," ",r.a.createElement("span",{className:"badge badge-light"},r.a.createElement("font",{color:"red"},c))),c>10&&r.a.createElement("button",{type:"button",className:"btn btn-warning",disabled:!0},"\u23f3"," ",r.a.createElement("span",{className:"badge badge-light"},c)))},E=function(){var e=Object(u.c)(function(e){return e.game}),t=Object(u.c)(function(e){return e.timer}),a=Object(u.c)(function(e){return e.login});return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item col-lg-5"},r.a.createElement("button",{type:"button",className:"btn btn-info",disabled:!0},"Total fallen ",r.a.createElement("span",{className:"badge badge-light"},e.countFallen))),r.a.createElement("li",{className:"list-group-item col-lg-5"},r.a.createElement("button",{type:"button",className:"btn btn-info",disabled:!0},"Bonus +10\xa0 ",r.a.createElement("span",{className:"badge badge-light"},e.countBonus10))),r.a.createElement("li",{className:"list-group-item col-lg-5"},r.a.createElement("button",{type:"button",className:"btn btn-info",disabled:!0},"Bonus +100 ",r.a.createElement("span",{className:"badge badge-light"},e.countBonus100))),r.a.createElement("li",{className:"list-group-item col-lg-5"},r.a.createElement(f,null))),r.a.createElement("br",null),r.a.createElement("br",null),e.hasWon&&r.a.createElement("div",{className:"alert alert-success col-lg-5",role:"alert"},"Congratulations ",a.username," ! You won! \ud83e\udd29"),(e.hasLost||t.timeIsUp&&!e.hasWon)&&r.a.createElement("div",{className:"alert alert-danger col-lg-5",role:"alert"},a.username,", you are a looser! \ud83d\ude1c"))},v=a(13),h=a(14),y=a(17),N=a(15),O=function(e){Object(y.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={username:"",errorMsg:""},n.regEx=new RegExp("^[a-zA-Z]*$"),n}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar navbar-brand bg-light"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"Name")),r.a.createElement("input",{type:"text",className:"form-control",name:"username",value:this.state.username,placeholder:"Enter your name",onChange:function(t){t.preventDefault();var a=t.target.value.trim().substr(0,20);e.setState({username:a,errorMsg:""})}}),r.a.createElement("button",{type:"button",className:"btn btn-secondary input-group-text",onClick:function(){var t=e.state.username;t&&t.length>0?e.regEx.test(t)?e.props.launchGame(t):e.setState({errorMsg:"Name can contain only letters"}):e.setState({errorMsg:"Name cannot be empty"})}},"Play")),r.a.createElement("br",null),r.a.createElement("span",{className:"badge badge-light"},r.a.createElement("font",{color:"red"},this.state.errorMsg)))}}]),a}(n.Component),w=function(){var e=Object(u.c)(function(e){return e.game}),t=Object(u.c)(function(e){return e.login}),a=Object(u.b)();return r.a.createElement(r.a.Fragment,null,!1===t.logged&&r.a.createElement(O,{launchGame:function(t){a({type:"SIGNED_IN",payload:t}),a(m(e.score))}}),t.logged&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("main",{className:"container m-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"},r.a.createElement(b,null)),r.a.createElement("div",{className:"col-sm"},r.a.createElement(E,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(29);var j=a(5),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.emptyGameData,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_GAME":return s.startNewGame(t.payload);case"GAME_STARTED":return s.gameHasStarted(t.payload);case"UPDATE_GAME":return s.updateBoard(t.payload);default:return e}},T=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{logged:!1,username:null},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SIGNED_IN":return{logged:!0,username:(e=a.payload).substr(0,1).toUpperCase()+e.substr(1).toLowerCase()};default:return t}},_={startRequested:!1,stopRequested:!1,timeIsUp:!1},I=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"START_TIMER":return Object(c.a)(Object(c.a)({},_),{},{startRequested:!0});case"STOP_TIMER":return e=a.payload,Object(c.a)(Object(c.a)({},e),{},{stopRequested:!0});case"TIME_IS_UP":return Object(c.a)(Object(c.a)({},_),{},{timeIsUp:!0});default:return t}},R=Object(j.b)({game:S,login:T,timer:I}),x=Object(j.c)(R,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(r.a.createElement(u.a,{store:x},r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.7825f14e.chunk.js.map